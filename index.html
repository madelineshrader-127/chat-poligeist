<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The PoliGeist</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body { font-family: Georgia, 'Times New Roman', serif; line-height:1.8; color:#333; background:#f9f9f9; }

/* Header */
header { background:#2c3e50; color:white; padding:2.5rem 0; text-align:center; border-bottom:4px solid #e74c3c; }
h1 { font-size:3rem; font-weight:700; letter-spacing:2px; margin-bottom:0.5rem; }
.subtitle { font-size:1.1rem; font-style:italic; opacity:0.9; }
#clock { margin-top:0.5rem; font-size:1rem; font-weight:600; color:#ecf0f1; letter-spacing:1px; }

/* Subscribe Box */
.subscribe-box { background:#ecf0f1; padding:1.5rem 2rem; border-radius:6px; text-align:center; margin:2rem auto; max-width:600px; box-shadow:0 2px 8px rgba(0,0,0,0.1); }
.subscribe-box h3 { margin-bottom:0.5rem; color:#2c3e50; }
.subscribe-box p { margin-bottom:1rem; color:#34495e; }
.subscribe-box input[type="email"] { width:70%; padding:0.5rem 1rem; border:1px solid #bdc3c7; border-radius:4px; margin-right:0.5rem; font-family:Georgia, serif; }
.subscribe-box button { background:#e74c3c; color:white; border:none; padding:0.55rem 1.2rem; border-radius:4px; font-weight:600; cursor:pointer; font-family:Georgia, serif; transition:background 0.3s; }
.subscribe-box button:hover { background:#c0392b; }

/* Navigation */
nav { background:#34495e; position:sticky; top:0; z-index:100; box-shadow:0 2px 5px rgba(0,0,0,0.2); }
.nav-container { max-width:1000px; margin:0 auto; display:flex; justify-content:center; gap:0; }
.nav-tab { flex:1; padding:1rem 2rem; background:transparent; border:none; cursor:pointer; font-size:1rem; font-weight:600; color:#ecf0f1; transition:all 0.3s; border-bottom:3px solid transparent; font-family:Georgia, serif; }
.nav-tab:hover { background:#2c3e50; color:white; }
.nav-tab.active { background:#2c3e50; border-bottom-color:#e74c3c; }

/* Container */
.container { max-width:900px; margin:0 auto; padding:2rem 20px; }
.tab-content { display:none; }
.tab-content.active { display:block; }

/* Admin Panel */
.admin-toggle { text-align:center; margin:2rem 0; }
.toggle-btn { background:#95a5a6; color:white; border:none; padding:0.75rem 1.5rem; font-size:0.95rem; border-radius:4px; cursor:pointer; transition:background 0.3s; font-family:Georgia, serif; }
.toggle-btn:hover { background:#7f8c8d; }
.admin-panel { background:white; margin:2rem 0; padding:2rem; border-radius:4px; box-shadow:0 2px 8px rgba(0,0,0,0.1); border-left:4px solid #e74c3c; }
.admin-panel h2 { font-size:1.8rem; margin-bottom:1.5rem; color:#2c3e50; }
.form-group { margin-bottom:1.5rem; }
label { display:block; font-weight:600; margin-bottom:0.5rem; color:#2c3e50; font-size:1rem; }
input, textarea, select { width:100%; padding:0.75rem; border:1px solid #bdc3c7; border-radius:4px; font-size:1rem; font-family:Georgia, serif; transition:border-color 0.3s; }
select { background:white; cursor:pointer; }
input:focus, textarea:focus, select:focus { outline:none; border-color:#e74c3c; }
textarea { min-height:200px; resize:vertical; }
button[type="submit"], .export-btn { background:#e74c3c; color:white; border:none; padding:0.75rem 2rem; font-size:1rem; border-radius:4px; cursor:pointer; transition:background 0.3s; font-family:Georgia, serif; font-weight:600; }
button[type="submit"]:hover { background:#c0392b; }
.export-btn { background:#27ae60; margin-left:1rem; }
.export-btn:hover { background:#229954; }

/* Posts */
.post { background:white; padding:2.5rem; margin-bottom:2rem; border-radius:4px; box-shadow:0 2px 8px rgba(0,0,0,0.1); border-left:4px solid #3498db; }
.post h2 { font-size:2rem; color:#2c3e50; margin-bottom:0.75rem; line-height:1.3; }
.post-meta { color:#7f8c8d; font-size:0.95rem; margin-bottom:1.5rem; font-style:italic; }
.post-content { color:#34495e; font-size:1.1rem; line-height:1.8; white-space:pre-wrap; }
.delete-btn { background:#95a5a6; color:white; border:none; padding:0.5rem 1rem; font-size:0.9rem; border-radius:4px; cursor:pointer; margin-top:1rem; transition:background 0.3s; font-family:Georgia, serif; }
.delete-btn:hover { background:#7f8c8d; }

/* Empty state */
.empty-state { text-align:center; padding:4rem 2rem; color:#95a5a6; background:white; border-radius:4px; box-shadow:0 2px 8px rgba(0,0,0,0.1); }
.empty-state h3 { font-size:1.8rem; margin-bottom:1rem; color:#7f8c8d; }
.empty-state p { font-size:1.1rem; }

/* Featured post */
.featured-post { background:white; padding:3rem; margin-bottom:2rem; border-radius:4px; box-shadow:0 4px 12px rgba(0,0,0,0.15); border-left:6px solid #e74c3c; }
.featured-label { display:inline-block; background:#e74c3c; color:white; padding:0.4rem 1rem; font-size:0.85rem; font-weight:600; text-transform:uppercase; letter-spacing:1px; margin-bottom:1rem; border-radius:3px; }
.featured-post h2 { font-size:2.5rem; color:#2c3e50; margin-bottom:0.75rem; line-height:1.2; }
.featured-post .post-meta { color:#7f8c8d; font-size:1rem; margin-bottom:1.5rem; font-style:italic; }
.featured-post .post-content { color:#34495e; font-size:1.15rem; line-height:1.9; margin-bottom:1.5rem; }
.read-more { display:inline-block; color:#e74c3c; font-weight:600; text-decoration:none; font-size:1.1rem; transition:color 0.3s; }
.read-more:hover { color:#c0392b; }
.category-badge { display:inline-block; background:#3498db; color:white; padding:0.3rem 0.8rem; font-size:0.85rem; border-radius:3px; margin-left:0.5rem; text-transform:capitalize; }

/* Comments */
.comments-section { margin-top:2rem; background:#f9f9f9; padding:1.5rem; border-radius:6px; border:1px solid #bdc3c7; }
.comments-section h4 { margin-bottom:1rem; color:#2c3e50; }
.comments-list { margin-bottom:1rem; }
.comment { margin-bottom:1rem; padding:0.5rem; border-bottom:1px solid #bdc3c7; }
.comment strong { color:#34495e; }
.comment p { margin-top:0.3rem; }
.comments-section input, .comments-section textarea { width:100%; margin-bottom:0.5rem; padding:0.5rem; border:1px solid #bdc3c7; border-radius:4px; }
.comments-section button { background:#3498db; color:white; border:none; padding:0.5rem 1rem; border-radius:4px; cursor:pointer; font-family:Georgia, serif; transition:background 0.3s; }
.comments-section button:hover { background:#2980b9; }
</style>
</head>
<body>

<header>
<h1>The PoliGeist</h1>
<p class="subtitle">Politics, Culture, and the Supernatural</p>
<p id="clock"></p>
</header>

<div class="subscribe-box">
<h3>Subscribe to The PoliGeist</h3>
<p>Get notified of new posts directly!</p>
<form id="subscribeForm">
<input type="email" id="subscriberEmail" placeholder="Enter your email" required>
<button type="submit">Subscribe</button>
</form>
<p id="subscribeMessage" style="margin-top:0.5rem; font-size:0.95rem;"></p>
</div>

<nav>
<div class="nav-container">
<button class="nav-tab active" onclick="switchTab('home')">Home</button>
<button class="nav-tab" onclick="switchTab('about')">About</button>
<button class="nav-tab" onclick="switchTab('politics')">Politics</button>
<button class="nav-tab" onclick="switchTab('japanese')">Japanese Supernatural Culture</button>
</div>
</nav>

<div class="container">
<div class="admin-toggle">
<button class="toggle-btn" onclick="toggleAdmin()">Toggle Admin Panel</button>
</div>

<div class="admin-panel" id="adminPanel" style="display:none;">
<h2>Add New Post</h2>
<form id="postForm">
<div class="form-group">
<label for="category">Category</label>
<select id="category" required>
<option value="about">About</option>
<option value="politics">Politics</option>
<option value="japanese">Japanese Supernatural Culture</option>
</select>
</div>
<div class="form-group">
<label for="title">Title</label>
<input type="text" id="title" required>
</div>
<div class="form-group">
<label for="content">Content</label>
<textarea id="content" required></textarea>
</div>
<button type="submit">Publish Post</button>
<button type="button" class="export-btn" onclick="exportPosts()">Export Data</button>
</form>
</div>

<div id="homeTab" class="tab-content active">
<div id="featuredPost"><div class="empty-state"><h3>Welcome to The PoliGeist</h3><p>No articles published yet. Toggle the admin panel to create your first post!</p></div></div>
</div>

<div id="aboutTab" class="tab-content"><div id="postsAbout"><div class="empty-state"><h3>No posts yet</h3><p>Toggle the admin panel above to create your first post!</p></div></div></div>
<div id="politicsTab" class="tab-content"><div id="postsPolitics"><div class="empty-state"><h3>No posts yet</h3><p>Toggle the admin panel above to create your first post!</p></div></div></div>
<div id="japaneseTab" class="tab-content"><div id="postsJapanese"><div class="empty-state"><h3>No posts yet</h3><p>Toggle the admin panel above to create your first post!</p></div></div></div>

<script>
/* Clock JST */
function updateClock() {
let now = new Date();
let options = { timeZone:'Asia/Tokyo', year:'numeric', month:'long', day:'numeric', weekday:'long', hour:'2-digit', minute:'2-digit', second:'2-digit', hour12:false };
document.getElementById('clock').textContent = new Intl.DateTimeFormat('en-US', options).format(now);
}
setInterval(updateClock, 1000);
updateClock();

/* Subscribe */
document.getElementById('subscribeForm').addEventListener('submit', function(e){
e.preventDefault();
let email = document.getElementById('subscriberEmail').value;
document.getElementById('subscribeMessage').textContent = `Thank you for subscribing, ${email}!`;
document.getElementById('subscriberEmail').value='';
});

/* Tabs */
let posts=[]; let comments=JSON.parse(localStorage.getItem('comments'))||{}; let currentTab='home';
function switchTab(tab){currentTab=tab; document.querySelectorAll('.nav-tab').forEach(btn=>btn.classList.remove('active')); event.target.classList.add('active'); document.querySelectorAll('.tab-content').forEach(content=>content.classList.remove('active')); document.getElementById(tab+'Tab').classList.add('active'); window.scrollTo({top:0, behavior:'smooth'});}
function toggleAdmin(){const panel=document.getElementById('adminPanel'); panel.style.display=panel.style.display==='none'?'block':'none';}
function escapeHtml(text){const div=document.createElement('div'); div.textContent=text; return div.innerHTML;}

/* Posts */
document.getElementById('postForm').addEventListener('submit', function(e){
e.preventDefault();
const category=document.getElementById('category').value;
const title=document.getElementById('title').value;
const content=document.getElementById('content').value;
const post={category,title,content,date:new Date().toLocaleDateString('en-US',{year:'numeric', month:'long', day:'numeric'}),timestamp:Date.now()};
posts.unshift(post); renderPosts(); document.getElementById('category').value='about'; document.getElementById('title').value=''; document.getElementById('content').value=''; alert('Post published successfully!');
});
function deletePost(index){if(confirm('Are you sure you want to delete this post?')){posts.splice(index,1); renderPosts();}}
function exportPosts(){const dataStr=JSON.stringify(posts,null,2); const dataBlob=new Blob([dataStr],{type:'application/json'}); const url=URL.createObjectURL(dataBlob); const link=document.createElement('a'); link.href=url; link.download='poltigeist-blog-posts.json'; link.click(); URL.revokeObjectURL(url);}

/* Comments */
function addComment(event,postIndex){event.preventDefault(); const nameInput=document.getElementById(`commentName-${postIndex}`); const textInput=document.getElementById(`commentText-${postIndex}`); const name=nameInput.value.trim(); const text=textInput.value.trim(); if(!name||!text)return; if(!comments[postIndex]) comments[postIndex]=[]; comments[postIndex].push({name,text,date:new Date().toLocaleString('en-US',{timeZone:'Asia/Tokyo'})}); localStorage.setItem('comments',JSON.stringify(comments)); nameInput.value=''; textInput.value=''; renderComments(postIndex);}
function renderComments(postIndex){const container=document.getElementById(`comments-post-${postIndex}`); container.innerHTML=''; if(comments[postIndex]){comments[postIndex].forEach(comment=>{const div=document.createElement('div'); div.classList.add('comment'); div.innerHTML=`<strong>${escapeHtml(comment.name)}</strong> <span style="font-size:0.85rem;color:#7f8c8d;">(${comment.date})</span><p>${escapeHtml(comment.text)}</p>`; container.appendChild(div);});}}
function switchToCategory(category){const tabMap={'about':'about','politics':'politics','japanese':'japanese'}; const tab=tabMap[category]; document.querySelectorAll('.nav-tab').forEach(btn=>btn.classList.remove('active')); document.querySelectorAll('.nav-tab').forEach(btn=>{if(btn.textContent.toLowerCase().includes(category)||(category==='japanese'&&btn.textContent.includes('Japanese'))){btn.classList.add('active');}}); document.querySelectorAll('.tab-content').forEach(content=>content.classList.remove('active')); document.getElementById(tab+'Tab').classList.add('active'); window.scrollTo({top:0, behavior:'smooth'});}

/* Render Posts */
function renderPosts(){
const categories={'about':'About','politics':'Politics','japanese':'Japanese'};
const featuredContainer=document.getElementById('featuredPost');
if(posts.length===0){featuredContainer.innerHTML=`<div class="empty-state"><h3>Welcome to The PoliGeist</h3><p>No articles published yet. Toggle the admin panel to create your first post!</p></div>`;}
else{
const latestPost=posts[0]; const categoryNames={'about':'About','politics':'Politics','japanese':'Japanese Supernatural Culture'};
const preview=latestPost.content.substring(0,400)+(latestPost.content.length>400?'...':'');
featuredContainer.innerHTML=`<article class="featured-post"><span class="featured-label">Latest Article</span><h2>${escapeHtml(latestPost.title)}<span class="category-badge">${categoryNames[latestPost.category]}</span></h2><div class="post-meta">${latestPost.date}</div><div class="post-content">${escapeHtml(preview)}</div><a href="#" class="read-more" onclick="switchToCategory('${latestPost.category}'); return false;">Read full article â†’</a></article>`;}

Object.keys(categories).forEach(category=>{
const container=document.getElementById('posts'+categories[category]);
const categoryPosts=posts.filter(post=>post.category===category);
if(categoryPosts.length===0){container.innerHTML=`<div class="empty-state"><h3>No posts yet</h3><p>Toggle the admin panel above to create your first post!</p></div>`;}
else{
container.innerHTML=categoryPosts.map((post,idx)=>{
const actualIndex=posts.indexOf(post);
return `<article class="post"><h2>${escapeHtml(post.title)}</h2><div class="post-meta">${post.date}</div><div class="post-content">${escapeHtml(post.content)}</div><div class="comments-section"><h4>Comments</h4><div class="comments-list" id="comments-post-${actualIndex}"></div><form onsubmit="addComment(event,${actualIndex})"><input type="text" id="commentName-${actualIndex}" placeholder="Your name" required><textarea id="commentText-${actualIndex}" placeholder="Your comment" required></textarea><button type="submit">Add Comment</button></form></div><button class="delete-btn" onclick="deletePost(${actualIndex})">Delete</button></article>`;
}).join('');
categoryPosts.forEach(post=>{renderComments(posts.indexOf(post));});
});
}
}

renderPosts();
</script>
</body>
</html>
